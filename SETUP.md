# Setup

The following steps have been performed to create this setup.
These do not to be performed during pentest, it's just documentation if it ever needs to be recreated for some reason.

1. Create Docker Compose file with Nuts Node (v5) with server configuration (`nuts.yaml`)
2. Create `data` directory for persisting Nuts Node data with Docker host mount.
3. Start Docker Compose services
4. Wait for Nuts Node to download IRMA schemas
5. Create node DID:
   `docker compose exec node nuts vdr create-did`
6. Configure node DID in `nuts.yaml`
7. Add `NutsComm` endpoint to DID document:
   `docker compose exec node nuts didman svc add "did:nuts:8fbYxyYNNDjyTMyEQuusptr7LjirQYHxKFtw7qi2Szb1" NutsComm "grpc://localhost:5555"`
8. Add `OAuth` endpoint:
   `docker compose exec node nuts didman svc add "did:nuts:8fbYxyYNNDjyTMyEQuusptr7LjirQYHxKFtw7qi2Szb1" oauth "http://localhost:1323/n2n/auth/v1/accesstoken"`
   `docker compose exec node nuts didman svc add "did:nuts:8fbYxyYNNDjyTMyEQuusptr7LjirQYHxKFtw7qi2Szb1" eOverdracht-sender '{"oauth":"did:nuts:8fbYxyYNNDjyTMyEQuusptr7LjirQYHxKFtw7qi2Szb1/serviceEndpoint?type=oauth"}'`
9. Register organization credential (see `http-requests/issue-organization-credential.http`)
